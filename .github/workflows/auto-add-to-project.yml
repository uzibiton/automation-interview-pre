name: 'Issues: Add to Project'

on:
  issues:
    types: [opened]

permissions:
  issues: write
  contents: read
  # Note: GitHub Projects (beta) requires a PAT with project scope
  # The default GITHUB_TOKEN doesn't have access to Projects v2

jobs:
  add-to-project:
    name: Add issue to project board
    runs-on: ubuntu-latest
    steps:
      - name: Add to project
        uses: actions/add-to-project@v0.5.0
        with:
          # Your project: QA Backlog & Test Planning
          project-url: https://github.com/users/uzibiton/projects/2
          # Use PAT with 'project' scope stored in GitHub secrets
          github-token: ${{ secrets.GH_PROJECT_TOKEN }}
